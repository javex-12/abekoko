<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>CMS Integration Test - Salem Church</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f5f5f5;\n        }\n        .test-section {\n            background: white;\n            padding: 20px;\n            margin: 20px 0;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .service-card {\n            background: #fff;\n            padding: 20px;\n            border-radius: 8px;\n            border-left: 4px solid #c41e3a;\n        }\n        .service-details p {\n            margin: 10px 0;\n        }\n        .red {\n            color: #c41e3a;\n            font-weight: bold;\n        }\n        .cms-indicator {\n            font-size: 0.8rem;\n            color: #666;\n            text-align: right;\n            margin-top: 10px;\n            font-style: italic;\n        }\n        .status {\n            padding: 10px;\n            border-radius: 4px;\n            margin: 10px 0;\n        }\n        .success { background: #d4edda; color: #155724; }\n        .error { background: #f8d7da; color: #721c24; }\n        .info { background: #d1ecf1; color: #0c5460; }\n        button {\n            background: #c41e3a;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 4px;\n            cursor: pointer;\n            margin: 5px;\n        }\n        button:hover {\n            background: #8b1538;\n        }\n    </style>\n</head>\n<body>\n    <h1>🔗 CMS Integration Test</h1>\n    <p>This page tests if the CMS content is loading correctly from your admin dashboard.</p>\n\n    <div class=\"test-section\">\n        <h2>📅 Service Information Test</h2>\n        <div class=\"service-card\">\n            <h3>This Sunday's Service</h3>\n            <div class=\"service-details\">\n                <p><strong>Date:</strong> Loading...</p>\n                <p><strong>Collect:</strong> Loading...</p>\n                <p><strong>Liturgical Colour:</strong> <span class=\"red\">Loading...</span></p>\n                <p><strong>Theme:</strong> Loading...</p>\n            </div>\n        </div>\n        <div id=\"service-status\" class=\"status info\">⏳ Loading service information from CMS...</div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>📢 Announcements Test</h2>\n        <div id=\"announcements-test\">\n            <p>⏳ Loading announcements from CMS...</p>\n        </div>\n        <div id=\"announcements-status\" class=\"status info\">⏳ Loading announcements...</div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>🙏 Prayer Points Test</h2>\n        <div id=\"prayer-test\">\n            <h3>Prayer Points for the Week</h3>\n            <ul id=\"daily-prayers\">\n                <li>⏳ Loading prayer points...</li>\n            </ul>\n            <h3>Food for Thought</h3>\n            <p id=\"daily-thought\">⏳ Loading inspirational thought...</p>\n        </div>\n        <div id=\"prayer-status\" class=\"status info\">⏳ Loading prayer points...</div>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>🔧 Manual Controls</h2>\n        <button onclick=\"testServiceLoad()\">🔄 Reload Service Info</button>\n        <button onclick=\"testAnnouncementsLoad()\">🔄 Reload Announcements</button>\n        <button onclick=\"testPrayerLoad()\">🔄 Reload Prayer Points</button>\n        <button onclick=\"refreshAll()\">🔄 Refresh All Content</button>\n    </div>\n\n    <div class=\"test-section\">\n        <h2>📋 Test Results</h2>\n        <div id=\"test-results\">\n            <p>🔍 Waiting for CMS content to load...</p>\n        </div>\n    </div>\n\n    <!-- CMS Content Loader -->\n    <script src=\"js/cms-content-loader.js\"></script>\n    \n    <script>\n        // Test functions\n        function testServiceLoad() {\n            if (window.cmsLoader) {\n                updateStatus('service-status', 'info', '🔄 Manually reloading service info...');\n                window.cmsLoader.loadServiceInfo().then(result => {\n                    if (result) {\n                        updateStatus('service-status', 'success', '✅ Service info loaded successfully!');\n                    } else {\n                        updateStatus('service-status', 'error', '❌ Failed to load service info');\n                    }\n                });\n            } else {\n                updateStatus('service-status', 'error', '❌ CMS Loader not available');\n            }\n        }\n\n        function testAnnouncementsLoad() {\n            if (window.cmsLoader) {\n                updateStatus('announcements-status', 'info', '🔄 Manually reloading announcements...');\n                window.cmsLoader.loadAnnouncements().then(result => {\n                    if (result && result.length > 0) {\n                        updateStatus('announcements-status', 'success', `✅ Loaded ${result.length} announcements!`);\n                    } else {\n                        updateStatus('announcements-status', 'error', '❌ No announcements loaded');\n                    }\n                });\n            } else {\n                updateStatus('announcements-status', 'error', '❌ CMS Loader not available');\n            }\n        }\n\n        function testPrayerLoad() {\n            if (window.cmsLoader) {\n                updateStatus('prayer-status', 'info', '🔄 Manually reloading prayer points...');\n                window.cmsLoader.loadPrayerPoints().then(result => {\n                    if (result) {\n                        updateStatus('prayer-status', 'success', '✅ Prayer points loaded successfully!');\n                    } else {\n                        updateStatus('prayer-status', 'error', '❌ Failed to load prayer points');\n                    }\n                });\n            } else {\n                updateStatus('prayer-status', 'error', '❌ CMS Loader not available');\n            }\n        }\n\n        function refreshAll() {\n            if (window.refreshCMSContent) {\n                updateStatus('test-results', 'info', '🔄 Refreshing all CMS content...');\n                window.refreshCMSContent();\n                setTimeout(() => {\n                    updateStatus('test-results', 'success', '✅ All content refresh initiated!');\n                }, 1000);\n            } else {\n                updateStatus('test-results', 'error', '❌ Refresh function not available');\n            }\n        }\n\n        function updateStatus(elementId, type, message) {\n            const element = document.getElementById(elementId);\n            if (element) {\n                element.className = `status ${type}`;\n                element.textContent = message;\n            }\n        }\n\n        // Monitor CMS loading\n        document.addEventListener('DOMContentLoaded', () => {\n            console.log('🧪 CMS Integration Test Page Loaded');\n            \n            // Check if CMS loader is available after a short delay\n            setTimeout(() => {\n                if (window.cmsLoader) {\n                    updateStatus('test-results', 'success', '✅ CMS Loader initialized successfully!');\n                } else {\n                    updateStatus('test-results', 'error', '❌ CMS Loader failed to initialize');\n                }\n            }, 2000);\n\n            // Monitor for content updates\n            setTimeout(() => {\n                const serviceDetails = document.querySelector('.service-details');\n                if (serviceDetails && serviceDetails.innerHTML.includes('27th July, 2025')) {\n                    updateStatus('service-status', 'success', '✅ Service information updated from CMS!');\n                } else {\n                    updateStatus('service-status', 'error', '❌ Service information not updated');\n                }\n            }, 3000);\n        });\n    </script>\n</body>\n</html>"