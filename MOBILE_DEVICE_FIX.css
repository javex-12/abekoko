/* ===== MOBILE DEVICE SPECIFIC FIX ===== */
/* This targets actual mobile devices, not just small screens */

/* Target actual mobile devices using touch and hover detection */
@media (hover: none) and (pointer: coarse) {
    /* This specifically targets touch devices (phones/tablets) */
    
    .menu-toggle,
    #menuToggle {
        display: flex !important;
        position: relative !important;
        z-index: 9999 !important;
        width: 50px !important;
        height: 50px !important;
        background: rgba(196, 30, 58, 0.1) !important;
        border: 2px solid #c41e3a !important;
        border-radius: 8px !important;
        cursor: pointer !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        padding: 10px !important;
        /* Mobile touch optimizations */
        -webkit-tap-highlight-color: rgba(196, 30, 58, 0.3) !important;
        -webkit-touch-callout: none !important;
        -webkit-user-select: none !important;
        user-select: none !important;
        touch-action: manipulation !important;
    }
    
    .hamburger span {
        display: block !important;
        width: 20px !important;
        height: 3px !important;
        background: #c41e3a !important;
        margin: 2px 0 !important;
        transition: all 0.3s ease !important;
        border-radius: 2px !important;
    }
    
    /* FORCE NAVIGATION MENU FOR MOBILE DEVICES */
    .nav-links,
    #navLinks {
        position: fixed !important;
        top: 70px !important;
        left: -100vw !important;
        width: 100vw !important;
        height: calc(100vh - 70px) !important;
        background: rgba(255, 255, 255, 0.98) !important;
        backdrop-filter: blur(10px) !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: flex-start !important;
        padding: 30px 15px !important;
        transition: left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        z-index: 9998 !important;
        box-shadow: -5px 0 20px rgba(0,0,0,0.3) !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
        /* Remove any conflicting properties */
        transform: translateX(0) !important;
        opacity: 1 !important;
        visibility: visible !important;
        pointer-events: auto !important;
        /* Mobile specific */
        -webkit-transform: translateZ(0) !important;
        will-change: left !important;
    }
    
    /* ACTIVE STATE - SLIDE IN */
    .nav-links.active,
    #navLinks.active {
        left: 0 !important;
        transform: translateX(0) !important;
    }
    
    /* Mobile navigation links styling */
    .nav-links a,
    #navLinks a {
        width: 85% !important;
        max-width: 280px !important;
        text-align: center !important;
        padding: 18px 25px !important;
        margin: 6px 0 !important;
        border: 3px solid #c41e3a !important;
        border-radius: 15px !important;
        background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%) !important;
        color: #333 !important;
        text-decoration: none !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 10px !important;
        font-weight: 700 !important;
        font-size: 18px !important;
        text-transform: uppercase !important;
        letter-spacing: 1px !important;
        transition: all 0.3s ease !important;
        box-shadow: 0 4px 15px rgba(196, 30, 58, 0.2) !important;
        /* Mobile touch optimizations */
        -webkit-tap-highlight-color: rgba(196, 30, 58, 0.3) !important;
        touch-action: manipulation !important;
        min-height: 60px !important;
    }
    
    .nav-links a:active,
    #navLinks a:active {
        background: #c41e3a !important;
        color: white !important;
        transform: scale(0.98) !important;
        box-shadow: 0 2px 8px rgba(196, 30, 58, 0.4) !important;
    }
    
    /* Ensure header doesn't interfere */
    .header {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 9999 !important;
        background: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(10px) !important;
        box-shadow: 0 2px 15px rgba(0,0,0,0.1) !important;
        height: 70px !important;
    }
    
    /* Lock body scroll when menu is open */
    body.menu-open {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
        height: 100% !important;
    }
}

/* Additional mobile device detection */
@media screen and (max-device-width: 768px) {
    /* This targets devices with actual small screens */
    
    .menu-toggle,
    #menuToggle {
        display: flex !important;
        background: #c41e3a !important;
        color: white !important;
        border-radius: 50% !important;
        width: 45px !important;
        height: 45px !important;
    }
    
    .hamburger span {
        background: white !important;
        width: 18px !important;
    }
    
    #navLinks {
        background: white !important;
        border-left: 5px solid #c41e3a !important;
    }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
    .nav-links,
    #navLinks {
        -webkit-transform: translate3d(-100%, 0, 0) !important;
        transform: translate3d(-100%, 0, 0) !important;
    }
    
    .nav-links.active,
    #navLinks.active {
        -webkit-transform: translate3d(0, 0, 0) !important;
        transform: translate3d(0, 0, 0) !important;
    }
}